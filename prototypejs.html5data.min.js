(function(){function e(e,t){var r={};if(n){if(t!==undefined){r[t.camelize()]=e.dataset[t]}else{r=e.dataset}}else{if(t!==undefined){r[t.camelize()]=e.readAttribute("data-"+t)}else{var i="",s=e.attributes.length;for(var o=0;o<s;o++){if(e.attributes[o].name.match(/^data-.+/)){i=e.attributes[o].name.replace(/^data-/,"").camelize();r[i]=e.attributes[o].value}}}}return r}function t(e,t,r){if(typeof r!==undefined){if(n){e.dataset[t.camelize()]=r}e.writeAttribute("data-"+t.underscore().dasherize(),r)}else{delete e.dataset[t.camelize()];e.writeAttribute("data-"+t.underscore().dasherize(),null)}}var n=function(){var e=new Element("input",{"data-test-dummy":"test"});if(typeof e.dataset!=="undefined"&&typeof e.dataset.testDummy!=="undefined"){return true}return false}();Element.addMethods({data:function(){var n=arguments;switch(n.length){case 3:t.apply(this,n);break;default:return e.apply(this,n)}}})})();